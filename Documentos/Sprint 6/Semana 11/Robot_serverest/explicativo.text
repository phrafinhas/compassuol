



POST Endpoint /carrinhos
    # üßæ Cria um dicion√°rio de headers com o token de autentica√ß√£o
    &{header}    Create Dictionary    Authorization=${TOKEN_AUTH_ATUAL}
    
    # üì¶ Cria um dicion√°rio representando o produto a ser adicionado no carrinho
    &{produto}    Create Dictionary    idProduto=${ID_PRODUTO_ATUAL}    quantidade=1
    
    # üîÅ Armazena esse produto em uma vari√°vel comum (sem o &{}), para poder coloc√°-lo em uma lista
    ${produto_dict}    Set Variable    ${produto}
    
    # üß∫ Cria uma lista com o produto (pois o corpo da requisi√ß√£o espera uma lista de produtos)
    @{lista_produtos}    Create List    ${produto_dict}
    
    # üì¨ Monta o corpo (payload) da requisi√ß√£o, com a lista de produtos
    &{BODY}    Create Dictionary    produtos=${lista_produtos}
    
    # üì° Faz a requisi√ß√£o POST na sess√£o Serverest para o endpoint de carrinhos
    ${response}    POST On Session    Serverest    ${ENDPOINT_CARRINHOS}    json=${BODY}    headers=${header}
    
    # üíæ Armazena a resposta globalmente para que outras keywords possam acessar
    Set Global Variable   ${response}
    
    # üñ®Ô∏è Exibe no console a mensagem retornada pela API
    Log To Console    Carrinho: ${response.json()["message"]}
    
    # üñ®Ô∏è Exibe no console o corpo enviado na requisi√ß√£o (√∫til para depura√ß√£o)
    Log To Console    Produto: ${BODY}




















Gerar Dados do Produto
    # Gera o nome da marca do produto, como "Logitech", "Dell", etc.
    ${nome_produto}=        FakerLibrary.Company

    # Gera uma sequ√™ncia aleat√≥ria de letras (por exemplo, "MX"), usada como parte do modelo
    ${marca_produto}=       FakerLibrary.Lexify

    # Junta a marca com o modelo para formar o nome completo do produto (ex: "MX Logitech")
    ${nome}=                Set Variable    ${marca_produto} ${nome_produto}

    # Gera um n√∫mero inteiro aleat√≥rio entre 100 e 1000 para simular o pre√ßo do produto
    ${preco}=               Evaluate    random.randint(100, 1000)    modules=random

    # Gera uma palavra aleat√≥ria para ser usada como descri√ß√£o do produto (ex: "Mouse", "Teclado")
    ${descricao}=           FakerLibrary.Word

    # Gera uma quantidade aleat√≥ria entre 1 e 100 para representar o estoque do produto
    ${quantidade}=          Evaluate    random.randint(1, 100)    modules=random

    # Cria um dicion√°rio com os dados do produto gerado
    &{produto}=             Create Dictionary
    ...                     nome=${nome}
    ...                     preco=${preco}
    ...                     descricao=${descricao}
    ...                     quantidade=${quantidade}

    # Retorna o dicion√°rio com os dados para ser usado em outros testes
    [Return]    &{produto}